{"version":3,"sources":["Components/NavBar.js","Components/Home.js","Components/Shop.js","Components/Checkout.js","Components/Items.js","App.js","index.js"],"names":["NavBar","props","className","to","process","id","style","textDecoration","numberOfCheckoutItems","Home","Shop","useState","dataFetched","setDataFetched","itemData","setItemData","useEffect","fetchData","checkIfCacheTimerIsReady","caches","open","then","value","add","readApiCache","cacheTimer","intervalToDuration","start","end","Date","minutes","timerFunc","a","match","json","data","parseItemData","featured","entries","tempArr","forEach","element","push","name","items","price","finalPrice","imgUrl","images","icon","src","alt","map","pathname","state","Checkout","numberOf","totalPrice","returnTotalPrice","Items","buyNumber","setBuyNumber","fetch","params","catch","response","console","log","history","location","updateItemQuantity","ev","target","textContent","Math","random","onClick","addItemToCheckout","App","setCacheTimer","checkoutItems","setCheckoutItems","parentNode","querySelector","slice","formAction","split","quantity","newCheckoutItem","find","total","returnNumberOfItemsInCheckout","path","exact","component","newDate","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1e176c6e.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst NavBar = (props) => {\n  return (\n    <header>\n      <ul className=\"nav-list\">\n        <Link to={`${process.env.PUBLIC_URL}/`} id=\"home\"style={{ textDecoration: 'none' }}>\n          <li className=\"nav-list-item\">Home</li>\n        </Link>\n        <Link to={`${process.env.PUBLIC_URL}/Shop`} style={{ textDecoration: 'none' }}>\n          <li className=\"nav-list-item\">Shop</li>\n        </Link>\n        <Link to={`${process.env.PUBLIC_URL}/Checkout`} style={{ textDecoration: 'none' }}>\n          <li className=\"nav-list-item\">Checkout ({props.numberOfCheckoutItems})</li>\n        </Link>\n      </ul>\n    </header>\n  );\n};\n\nexport default NavBar;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Home = () => {\n  return (\n    <div className=\"home-container\" >\n      <div className=\"title-container\">\n      <h1>\n        Welcome to the\n      </h1>\n      <h1 id=\"inner\">\n        \"Fortnite\"\n      </h1>\n      <h1>\n        item Shop\n      </h1>\n    </div>\n      \n      <Link to={`${process.env.PUBLIC_URL}/Shop`}>\n        <button id=\"shop-button\"> GO TO SHOP</button>\n      </Link>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, {useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {intervalToDuration} from 'date-fns';\n\nconst Shop = (props) => {\n  const [dataFetched, setDataFetched] = useState(false);\n  const [itemData, setItemData] = useState([]);\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const fetchData = () => {\n    if(checkIfCacheTimerIsReady()) {\n      caches.open('api-data')\n      .then((value) => {\n        value.add(\"https://fortnite-api.com/v2/shop/br\");\n      });\n      readApiCache();\n    }\n    else {\n      readApiCache();\n    }\n  };\n\n  const checkIfCacheTimerIsReady = () => {\n    if(props.cacheTimer === 0){\n      props.timerFunc(new Date());\n      return true;\n    }\n    else {\n      const timeDiff = intervalToDuration({start: props.cacheTimer, end: new Date()});\n      if(timeDiff.minutes > 5){\n        props.timerFunc(new Date());\n        return true;\n      }\n      else {\n        return false;\n      }\n    }\n    \n  };\n\n  const readApiCache = async () => {\n    const newCache = await caches.open('api-data');\n    newCache.match(\"https://fortnite-api.com/v2/shop/br\")\n    .then(value => {\n      return value.json();\n    })\n    .then(data => {\n      parseItemData(data.data.featured.entries);\n      setDataFetched(true);\n    });\n  }\n\n  const parseItemData = (data) => {\n    const tempArr = [];\n    data.forEach(element => {\n      tempArr.push({\n        name: element.items[0].name,\n        price: element.finalPrice,\n        imgUrl: element.items[0].images.icon,\n        id: element.items[0].id,\n      });\n    });\n    setItemData(tempArr);\n  }\n  \n  const generateJsxContent = () => {\n    if(dataFetched === false){\n      return (\n        <div className=\"item-card\">\n          <h2>item</h2>\n          <img src=\"#\" alt=\"\" />\n          <p>Loading</p>\n          <Link to={`/Shop/Error`}>\n            <button>go to item page</button>\n          </Link>\n        </div>\n      );\n    }\n    else {\n      return (\n        itemData.map(element => {\n          return (\n            <div key={element.id} className=\"item-card\">\n              <h2>{element.name}</h2>\n              <img src={element.imgUrl} alt={element.name} />\n              <p>Price: {element.price}</p>\n              <Link to={{\n                pathname: `${process.env.PUBLIC_URL}/Shop/${element.id}`,\n                state: {price: element.price}\n              }}>\n                <button >go to item page</button>\n              </Link>\n            </div>)\n        })\n      );\n    }\n  };\n\n  return (\n    <div className=\"shop-item-container\">\n      {generateJsxContent()}\n    </div>\n  );\n};\n\nexport default Shop;\n","import React from 'react';\n// eslint-disable-next-line no-unused-vars\nimport { Link } from \"react-router-dom\";\n\nconst Checkout = (props) => {\n  const generateContent = () => {\n    return (\n      props.items.map(element => {\n        return (\n        <li key={`${element.id}checkout`}>Name: {element.name}, Total: {element.numberOf}, Price: {element.price*element.numberOf}</li>\n        );\n      })\n    );\n  };\n\n  const returnTotalPrice = () => {\n    let totalPrice = 0;\n    props.items.forEach(element => {\n      totalPrice += element.price*element.numberOf;\n    });\n    return totalPrice;\n  }\n\n  return (\n    <div className=\"checkout-container\">\n      <h2>Checkout</h2>\n      <ul>\n        {generateContent()}\n      </ul>\n      <p>Total Price: {returnTotalPrice()}</p>\n      <button id=\"order-submit\">Process Order</button>\n    </div>\n  );\n};\n\nexport default Checkout;\n","import React, {useState, useEffect} from \"react\";\n// eslint-disable-next-line no-unused-vars\nimport { Link } from \"react-router-dom\";\n\nconst Items = (props) => {\n  const [dataFetched, setDataFetched] = useState(false);\n  const [itemData, setItemData] = useState([]);\n  const [buyNumber, setBuyNumber] = useState(0);\n\n  useEffect(() => {\n    fetchData();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n\n  const fetchData = () => {\n    fetch(`https://fortnite-api.com/v2/cosmetics/br/${props.props.match.params.id}`)\n    .then(value => {\n      return value.json();\n    })\n    .then(data => {\n      parseItemData(data.data);\n      setDataFetched(true);\n    })\n    .catch(response => {\n      console.log(response);\n    });\n  };\n\n  const parseItemData = (data) => {\n    const tempArr = [];\n    data = [data];\n    data.forEach(element => {\n      tempArr.push({\n        name: element.name,\n        price: props.props.history.location.state.price,\n        imgUrl: element.images.icon,\n        id: element.id,\n      });\n    });\n    setItemData(tempArr);\n  }\n\n  const updateItemQuantity = ev => {\n    if(ev.target.textContent === \"+\"){\n      setBuyNumber(buyNumber + 1);\n    }\n    else {\n      if(buyNumber > 0){\n        setBuyNumber(buyNumber - 1);\n      }\n    }\n  }\n\n\n  const generateJsxContent = () => {\n    if(dataFetched === false){\n      return (\n        <div className=\"item-card\">\n          <h2>item</h2>\n          <img src=\"#\" alt=\"\" />\n          <p>Loading</p>\n          <Link to={`/Shop/${Math.random()}`}>\n            <button>go to item page</button>\n          </Link>\n        </div>\n      );\n    }\n    else {\n      return (\n        itemData.map(element => {\n          return (\n            <div key={element.id} className=\"item-card-i\">\n              <h2>{element.name}</h2>\n              <img src={element.imgUrl} alt={element.name} />\n              <p>Price: {element.price}</p>\n              <button onClick={props.addItemToCheckout}>Buy item</button>\n              <div id=\"buy-amount\">\n                <button className=\"button-increment\" onClick={updateItemQuantity}>-</button>\n                <p>{buyNumber}</p>\n                <button className=\"button-increment\" onClick={updateItemQuantity}>+</button>\n              </div>\n            </div>)\n        })\n      );\n    }\n  };\n\n\n  return (\n    <div className=\"shop-item-container\">\n      {generateJsxContent()}\n    </div>\n  );\n};\n\nexport default Items;\n","import \"./App.css\";\nimport React, {useState, useEffect} from 'react';\nimport { BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\nimport NavBar from \"./Components/NavBar\";\nimport Home from \"./Components/Home\";\nimport Shop from \"./Components/Shop\";\nimport Checkout from \"./Components/Checkout\";\nimport Items from \"./Components/Items\";\n\n//// https://dash.fortnite-api.com/\n\nconst App = () => {\n  const [cacheTimer, setCacheTimer] = useState(0);\n  const [checkoutItems, setCheckoutItems] = useState([]);\n\n  useEffect(() => {\n    //console.log(checkoutItems);\n  },[checkoutItems]);\n\n  const updateCacheTimer = newDate => {\n    setCacheTimer(newDate)\n  };\n\n  const addItemToCheckout = ev => {\n    const parentNode = ev.target.parentNode;\n    const name = parentNode.querySelector('h2').textContent;\n    const price = +parentNode.querySelector('p').textContent.slice(7);\n    const id = ev.target.formAction.split(\"/\")[4];\n    const quantity = parentNode.querySelector('#buy-amount').querySelector('p').textContent;\n    if(+quantity > 0){\n      const newCheckoutItem = {name: name, price: price, id: id, numberOf: +quantity};\n      if(checkoutItems.find(element => element.name === name)){\n        const tempArr = [...checkoutItems];\n        tempArr.forEach(element => {\n          if(element.name === name){\n            element.numberOf += (+quantity);\n          }\n        });\n        setCheckoutItems(tempArr);\n      }\n      else{\n        const tempArr = [...checkoutItems, newCheckoutItem];\n        setCheckoutItems(tempArr);\n      }\n    }\n    \n  }\n\n  const returnNumberOfItemsInCheckout = () => {\n    let total = 0;\n    checkoutItems.forEach(element => {\n      total += element.numberOf;\n    })\n    return total;\n  }\n  return (\n    <div className=\"app\" >\n        <NavBar numberOfCheckoutItems={returnNumberOfItemsInCheckout()}/>\n        <Switch>\n          <Route path={`${process.env.PUBLIC_URL}/`} exact component={Home} />\n          <Route path={`${process.env.PUBLIC_URL}/Shop`} exact>\n            <Shop cacheTimer={cacheTimer} timerFunc={updateCacheTimer}/>\n          </Route>\n          <Route path={`${process.env.PUBLIC_URL}/Shop/:id`} exact render={props => <Items props={props} addItemToCheckout={addItemToCheckout} />}>\n          </Route>\n          <Route path={`${process.env.PUBLIC_URL}/Checkout`} exact  render={props => <Checkout props={props} items={checkoutItems}/>}/>\n          <Route component={Home}/>\n        </Switch>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}