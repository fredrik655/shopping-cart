(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{27:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c(1),r=c.n(i),a=c(19),s=c.n(a),o=c(18),j=c(8),h=(c(27),c(4)),u=c(2),b=function(e){return Object(n.jsx)("header",{children:Object(n.jsxs)("ul",{className:"nav-list",children:[Object(n.jsx)(h.b,{to:"/",id:"home",style:{textDecoration:"none"},children:Object(n.jsx)("li",{className:"nav-list-item",children:"Home"})}),Object(n.jsx)(h.b,{to:"/Shop",style:{textDecoration:"none"},children:Object(n.jsx)("li",{className:"nav-list-item",children:"Shop"})}),Object(n.jsx)(h.b,{to:"/Checkout",style:{textDecoration:"none"},children:Object(n.jsxs)("li",{className:"nav-list-item",children:["Checkout (",e.numberOfCheckoutItems,")"]})})]})})},l=function(){return Object(n.jsxs)("div",{className:"home-container",children:[Object(n.jsxs)("div",{className:"title-container",children:[Object(n.jsx)("h1",{children:"Welcome to the"}),Object(n.jsx)("h1",{id:"inner",children:'"Fortnite"'}),Object(n.jsx)("h1",{children:"item Shop"})]}),Object(n.jsx)(h.b,{to:"/Shop",children:Object(n.jsx)("button",{id:"shop-button",children:" GO TO SHOP"})})]})},d=c(17),m=c.n(d),O=c(21),p=c(39),x=function(e){var t=Object(i.useState)(!1),c=Object(j.a)(t,2),r=c[0],a=c[1],s=Object(i.useState)([]),o=Object(j.a)(s,2),u=o[0],b=o[1];Object(i.useEffect)((function(){l()}),[]);var l=function(){d()?(caches.open("api-data").then((function(e){e.add("https://fortnite-api.com/v2/shop/br")})),x()):x()},d=function(){return(0===e.cacheTimer||Object(p.a)({start:e.cacheTimer,end:new Date}).minutes>5)&&(e.timerFunc(new Date),!0)},x=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,caches.open("api-data");case 2:e.sent.match("https://fortnite-api.com/v2/shop/br").then((function(e){return e.json()})).then((function(e){f(e.data.featured.entries),a(!0)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){var t=[];e.forEach((function(e){t.push({name:e.items[0].name,price:e.finalPrice,imgUrl:e.items[0].images.icon,id:e.items[0].id})})),b(t)};return Object(n.jsx)("div",{className:"shop-item-container",children:!1===r?Object(n.jsxs)("div",{className:"item-card",children:[Object(n.jsx)("h2",{children:"item"}),Object(n.jsx)("img",{src:"#",alt:""}),Object(n.jsx)("p",{children:"Loading"}),Object(n.jsx)(h.b,{to:"/Shop/Error",children:Object(n.jsx)("button",{children:"go to item page"})})]}):u.map((function(e){return Object(n.jsxs)("div",{className:"item-card",children:[Object(n.jsx)("h2",{children:e.name}),Object(n.jsx)("img",{src:e.imgUrl,alt:e.name}),Object(n.jsxs)("p",{children:["Price: ",e.price]}),Object(n.jsx)(h.b,{to:{pathname:"/Shop/".concat(e.id),state:{price:e.price}},children:Object(n.jsx)("button",{children:"go to item page"})})]},e.id)}))})},f=function(e){return Object(n.jsxs)("div",{className:"checkout-container",children:[Object(n.jsx)("h2",{children:"Checkout"}),Object(n.jsx)("ul",{children:e.items.map((function(e){return Object(n.jsxs)("li",{children:["Name: ",e.name,", Total: ",e.numberOf,", Price: ",e.price*e.numberOf]},"".concat(e.id,"checkout"))}))}),Object(n.jsxs)("p",{children:["Total Price: ",function(){var t=0;return e.items.forEach((function(e){t+=e.price*e.numberOf})),t}()]}),Object(n.jsx)("button",{id:"order-submit",children:"Process Order"})]})},v=function(e){var t=Object(i.useState)(!1),c=Object(j.a)(t,2),r=c[0],a=c[1],s=Object(i.useState)([]),o=Object(j.a)(s,2),u=o[0],b=o[1],l=Object(i.useState)(0),d=Object(j.a)(l,2),m=d[0],O=d[1];Object(i.useEffect)((function(){p()}),[]);var p=function(){fetch("https://fortnite-api.com/v2/cosmetics/br/".concat(e.props.match.params.id)).then((function(e){return e.json()})).then((function(e){x(e.data),a(!0)})).catch((function(e){console.log(e)}))},x=function(t){var c=[];(t=[t]).forEach((function(t){c.push({name:t.name,price:e.props.history.location.state.price,imgUrl:t.images.icon,id:t.id})})),b(c)},f=function(e){"+"===e.target.textContent?O(m+1):m>0&&O(m-1)};return Object(n.jsx)("div",{className:"shop-item-container",children:!1===r?Object(n.jsxs)("div",{className:"item-card",children:[Object(n.jsx)("h2",{children:"item"}),Object(n.jsx)("img",{src:"#",alt:""}),Object(n.jsx)("p",{children:"Loading"}),Object(n.jsx)(h.b,{to:"/Shop/".concat(Math.random()),children:Object(n.jsx)("button",{children:"go to item page"})})]}):u.map((function(t){return Object(n.jsxs)("div",{className:"item-card-i",children:[Object(n.jsx)("h2",{children:t.name}),Object(n.jsx)("img",{src:t.imgUrl,alt:t.name}),Object(n.jsxs)("p",{children:["Price: ",t.price]}),Object(n.jsx)("button",{onClick:e.addItemToCheckout,children:"Buy item"}),Object(n.jsxs)("div",{id:"buy-amount",children:[Object(n.jsx)("button",{className:"button-increment",onClick:f,children:"-"}),Object(n.jsx)("p",{children:m}),Object(n.jsx)("button",{className:"button-increment",onClick:f,children:"+"})]})]},t.id)}))})},g=function(){var e=Object(i.useState)(0),t=Object(j.a)(e,2),c=t[0],r=t[1],a=Object(i.useState)([]),s=Object(j.a)(a,2),d=s[0],m=s[1];Object(i.useEffect)((function(){console.log(d)}),[d]);var O=function(e){var t=e.target.parentNode,c=t.querySelector("h2").textContent,n=+t.querySelector("p").textContent.slice(7),i=e.target.formAction.split("/")[4],r=t.querySelector("#buy-amount").querySelector("p").textContent;if(+r>0){var a={name:c,price:n,id:i,numberOf:+r};if(d.find((function(e){return e.name===c}))){var s=Object(o.a)(d);s.forEach((function(e){e.name===c&&(e.numberOf+=+r)})),m(s)}else{var j=[].concat(Object(o.a)(d),[a]);m(j)}}};return Object(n.jsx)("div",{className:"app",children:Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b,{numberOfCheckoutItems:function(){var e=0;return d.forEach((function(t){e+=t.numberOf})),e}()}),Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/",exact:!0,component:l}),Object(n.jsx)(u.a,{path:"/Shop",exact:!0,children:Object(n.jsx)(x,{cacheTimer:c,timerFunc:function(e){r(e)}})}),Object(n.jsx)(u.a,{path:"/Shop/:id",render:function(e){return Object(n.jsx)(v,{props:e,addItemToCheckout:O})}}),Object(n.jsx)(u.a,{path:"/Checkout",exact:!0,render:function(e){return Object(n.jsx)(f,{props:e,items:d})}})]})]})})};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(g,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.f8413f00.chunk.js.map